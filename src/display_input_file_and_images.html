<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>

<body>
	<div class="center">
		<div id="imgDiv"></div>
		<form action="" id="file-catcher">
			<div class="form-input">
				<label for="">Upload image</label>
				<input type="file" id="file-input" accept=".jpg, .jpeg, .png" multiple>
			</div>
			<button type="submit">Submit</button>
		</form>
		<div class="preview" id="file-list-display"></div>
	</div>
	<script>
		var fileCatcher = document.getElementById('file-catcher');
		var fileInput = document.getElementById('file-input');
		var fileListDisplay = document.getElementById('file-list-display');

		var fileList = [];
		var renderFileList, sendFile;

		fileInput.addEventListener('change', function(event){

			fileList = [];
			for(var i=0; i<fileInput.files.length; i++){
				fileList.push(fileInput.files[i]);
			}
			console.log(fileList);
			renderFileList()
		})

		renderFileList = () => {
			fileListDisplay.innerHTML = "";

			var imgUl = document.getElementById('imgDiv');
			imgUl.innerHTML = ""

			fileList.forEach(function(file, index){
				// var fileDisplayEl = document.createElement('p');
				// fileDisplayEl.innerHTML = (index+1) + ': ' + file.name + ' -- ' + file.size + " octets." ;
				// fileListDisplay.appendChild(fileDisplayEl);

				var img = document.createElement('img');

				img['src'] = URL.createObjectURL(file);

				img.setAttribute("width", "100px");
				img.setAttribute("height", "100px");

				imgUl.appendChild(img)
			})
		}
	</script>
</body>

<style>
	*{
		box-sizing: border-box;
		margin: 0;
	}
	.center{
		display: flex;
		justify-content: center;
		flex-direction: column;
		align-items: center;
		width: 100vw;
		height: 100vh;
	}
	.form-input{
		display: flex;
		flex-direction: column;
	}
	.form-input label,
	.form-input input{
		margin: 5px 0;
	}
	button{
		margin: 5px 0;
	}
</style>
</html>
<!-- <script>
	for(let i=0; i<10; i++){
		const img = document.createElement("img")
		img['src'] = "https://picsum.photos/200/301?id=" + i
		if(i===5){
			img.style.borderRadius = "20%"
		}
		img.classList.add("img-margin")
		document.getElementById("igs").appendChild(img)
	}
</script> -->